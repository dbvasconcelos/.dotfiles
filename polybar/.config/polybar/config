# Polybar settings

[colors]
black = ${xrdb:color0}
red = ${xrdb:color1}
green = ${xrdb:color2}
yellow = ${xrdb:color3}
blue = ${xrdb:color4}
purple = ${xrdb:color5}
cyan = ${xrdb:color6}
darkgray = ${xrdb:color8}
white = ${xrdb:color15}
bg = ${xrdb:color0}
bg1 = "#3c3836"
fg = "#fbf1c7"


[global/wm]
margin-top = 0
margin-bottom = 0


[bar/sysbar]
width = 100%
height = 45
offset-x = 0
offset-y = 0
background = ${colors.bg}
foreground = ${colors.fg}
radius = 0.0
underline-size = 0
underline-color = ${colors.blue}
overline-size = 0
padding = 0
module-margin-right = 1
module-margin-left = 1
font-0 = "Noto Sans Mono:size=10:style=bold"
font-1 = "Font Awesome 5 Free:size=9"
font-2 = "Font Awesome 5 Free:size=9:style=Solid"
font-3 = "Noto Color Emoji:scale=12"
separator =
dim-value = 1.0
locale = pt_BR.UTF-8
tray-position = right
tray-maxsize = 32
tray-detached = false
tray-offset-x = 0
tray-offset-y = 0
tray-padding = 1
tray-scale = 1.0
wm-restack = bspwm
dpi = 192
enable-ipc = true
modules-left = bspwm xwindow
modules-center =
modules-right = music volume tmux packages cpu memory temperature weather date


[module/bspwm]
type = internal/bspwm
format-underline = ${colors.bg}
label-focused = %index%
label-focused-background = ${colors.bg1}
label-focused-underline = ${colors.blue}
label-focused-padding = 1
label-occupied = %index%
label-occupied-padding = 1
label-urgent = %index%!
label-urgent-background = ${colors.red}
label-urgent-padding = 1
label-empty = %index%
label-empty-foreground = ${colors.darkgray}
label-empty-padding = 1
label-separator =


[module/xwindow]
type = internal/xwindow
label = %title:0:60:...%

[module/tmux]
type = custom/script
exec = tmux list-sessions 2>/dev/null | wc -l
format-prefix="ÔÑ† "
interval = 5
format-prefix-foreground = ${colors.green}
click-left = setsid -f "$TERMINAL" -e tmux a


[module/music]
type = custom/ipc
hook-0 = playerctl --player=youtubemusic metadata --format "{{ artist }} - {{ title }}" 2>/dev/null | cut -c -45
format-prefix="ÔÄÅ "
initial = 1
format-prefix-foreground = ${colors.blue}


[module/volume]
type = custom/script
tail = true
exec = start-pulseaudio-x11 && pulseaudio-control --sink-nicknames-from "device.description" --sink-nickname "alsa_output.pci-0000_09_00.1.hdmi-stereo:ÔÄ®" --sink-nickname "alsa_output.usb-Kingston_HyperX_Cloud_Flight_Wireless_Headset-00.analog-stereo: ÔÄ•"  --format '$SINK_NICKNAME ${VOL_LEVEL}%' listen
click-left = pulseaudio-control togmute
click-middle = setsid -f "$TERMINAL" -e pulsemixer
click-right = pulseaudio-control --sink-blacklist "alsa_output.pci-0000_0b_00.4.iec958-stereo" next-sink
scroll-up = pulseaudio-control --volume-max 130 up
scroll-down = pulseaudio-control --volume-max 130 down
format-underline = ${colors.white}


[module/packages]
type = custom/ipc
hook-0 = checkupdates | wc -l
click-right = setsid -fw "$TERMINAL" -e upgradesystem
click-left = notify-send -i /dev/null "$(paru -Qu)"
initial = 1
format-prefix = "ÔÜ≤ "
format-prefix-foreground = ${colors.yellow}


[module/cpu]
type = internal/cpu
interval = 5
format = <label>
label = %percentage%%
format-prefix = "ÔÑà "
format-prefix-foreground = ${colors.green}


[module/memory]
type = internal/memory
interval = 5
format = <label>
label =  %percentage_used%%
format-prefix = "Ôãõ "
format-prefix-foreground = ${colors.purple}


[module/temperature]
type = internal/temperature
interval = 2
thermal-zone = 0
warn-temperature = 60
label =  %temperature-c%
label-warn-foreground = ${colors.red}
format-prefix = "Ôãá "
format-prefix-foreground = ${colors.red}


[module/weather]
type = custom/script
exec = curl -sf "v2.wttr.in?format=%c%t+üíß%h" | sed 's/\xef\xb8\x8f//' | tr -d '+'
click-left = curl -sf v2.wttr.in > "/tmp/weatherreport" &&	setsid -f "$TERMINAL" -e less -Srf "/tmp/weatherreport"
interval = 1800


[module/date]
type = internal/date
interval = 60
date = "%d/%m/%y (%a)"
time = %H:%M
format = <label>
label = "%date% ÔÄó %time% "
format-prefix = "ÔÅ≥ "
format-prefix-foreground = ${colors.cyan}
